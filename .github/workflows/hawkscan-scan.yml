name: "action-tests"
on:
  pull_request:

jobs:
  javaspringvulny-test:
    name: Java Spring Vulny Test
    runs-on: ubuntu-latest
    steps:
      - name: Checkout javaspringvulny repository
        uses: actions/checkout@v3
      - name: Run javaspringvulny
        run:  docker-compose up -d
      - name: Run Hawkscan
        uses: stackhawk/hawkscan-action@v2.1.3
        with:
          apiKey: ${{ secrets.HAWK_API_KEY }}
          configurationFiles: stackhawk-jsv-json-token.yml
        env:
          APPLICATION_ID: ${{ env.APPLICATION_ID }}
          ENV: action-scan